{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\astir\\\\Projects\\\\for_matt_demo\\\\boosterthon-ui\\\\src\\\\components\\\\add-fundraiser.component.js\";\nimport React, { Component } from \"react\";\nimport FundraiserDataService from \"../services/fundraiser.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class AddFundraiser extends Component {\n  constructor(props) {\n    super(props);\n    /** set initial state */\n\n    this.validateForm = () => {\n      console.log(\"\\n ####VALIDATING FORM\"); // Validate all required fields\n\n      this.validateField('revieweremail', this.state.revieweremail);\n    };\n\n    this.validateField = (fieldName, value) => {\n      console.log('-->Validating Input:' + fieldName); // Current Form Error Notification Verbiage\n\n      let newFieldValidationErrors = this.state.formErrors; // current isValid Bools\n\n      let emailValid = this.state.emailValid;\n\n      switch (fieldName) {\n        case 'revieweremail':\n          emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n          newFieldValidationErrors.email = emailValid ? '' : ' is invalid';\n          break;\n        // case 'password':\n        // \tpasswordValid = value.length >= 6;\n        // \tfieldValidationErrors.password = passwordValid ? '': ' is too short';\n        // \tbreak;\n\n        default:\n          break;\n      } // Update Existing Validation Error Notification & isValid State\n\n\n      this.setState({\n        formErrors: newFieldValidationErrors,\n        emailValid: emailValid // passwordValid: passwordValid\n\n      }, this.doneValidating());\n    };\n\n    this.doneValidating = () => {\n      console.log(\"  ###=> Done Validating Form\");\n      console.log(this.state);\n    };\n\n    this.onInputFieldUpdate = e => {\n      // console.log(e.target);\n      console.log(\"Updated\" + e.target.name);\n      const updateStateProp = {};\n      updateStateProp[e.target.name] = e.target.value;\n      this.setState(updateStateProp);\n    };\n\n    this.saveFundraiser = () => {\n      alert('validating');\n      var data = {\n        title: this.state.title,\n        description: this.state.description,\n        fundlabel: this.state.fundlabel,\n        rating: this.state.rating,\n        review: this.state.review,\n        reviewername: this.state.reviewername,\n        revieweremail: this.state.revieweremail,\n        reviewdate: this.state.reviewdate\n      };\n      FundraiserDataService.create(data).then(response => {\n        this.setState({\n          id: response.data.id,\n          title: response.data.title,\n          description: response.data.description,\n          published: response.data.published,\n          fundlabel: response.data.fundlabel,\n          rating: response.data.rating,\n          review: response.data.review,\n          reviewername: response.data.reviewername,\n          revieweremail: response.data.revieweremail,\n          reviewdate: response.data.reviewdate,\n          // set successfull update\n          submitted: true\n        });\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n\n    this.newFundraiser = () => {\n      this.setState({\n        id: null,\n        title: \"\",\n        description: \"\",\n        published: false,\n        fundlabel: \"\",\n        rating: \"\",\n        review: \"\",\n        reviewername: \"\",\n        revieweremail: \"\",\n        reviewdate: new Date().toLocaleDateString('en-us', {\n          weekday: \"long\",\n          year: \"numeric\",\n          month: \"short\",\n          day: \"numeric\"\n        }),\n        submitted: false\n      });\n    };\n\n    this.renderSuccesState = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"You submitted successfully!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: this.newFundraiser,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 4\n      }, this);\n    };\n\n    this.renderEditCreateForm = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"fundlabel\",\n            children: \"Fundraiser Label\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"fundlabel\",\n            required: true,\n            value: this.state.fundlabel,\n            onChange: this.onInputFieldUpdate,\n            name: \"fundlabel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"rating\",\n            children: \"Rating (1-5)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"rating\",\n            required: true,\n            value: this.state.rating,\n            onChange: this.onInputFieldUpdate,\n            name: \"rating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"review\",\n            children: \"Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"review\",\n            required: true,\n            value: this.state.review,\n            onChange: this.onInputFieldUpdate,\n            name: \"review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"reviewername\",\n            children: \"Reviewer Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"reviewername\",\n            required: true,\n            value: this.state.reviewername,\n            onChange: this.onInputFieldUpdate,\n            name: \"reviewername\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"revieweremail\",\n            children: \"Reviewer Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"revieweremail\",\n            required: true,\n            value: this.state.revieweremail,\n            onChange: this.onInputFieldUpdate,\n            name: \"revieweremail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.validateForm,\n          className: \"btn btn-success\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 4\n      }, this);\n    };\n\n    this.renderFormErrors = () => {\n      const formErrorKeys = Object.keys(this.state.formErrors);\n      let hasNoErrors = Object.values(this.state.formErrors).every(x => x === null || x === '');\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: hasNoErrors ? /*#__PURE__*/_jsxDEV(React.Fragment, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 20\n        }, this) : /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Form Errors: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"errorList\",\n            style: {\n              color: \"red\"\n            },\n            children: formErrorKeys.filter(errorKey => this.state.formErrors[errorKey] != null).map((errorKey, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: errorKey + \": \" + this.state.formErrors[errorKey]\n            }, \"err_\" + errorKey, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 4\n      }, this);\n    };\n\n    this.state = {\n      id: null,\n      title: \"\",\n      description: \"\",\n      fundlabel: \"\",\n      rating: \"\",\n      review: \"\",\n      reviewername: \"\",\n      revieweremail: \"\",\n      reviewdate: new Date().toLocaleDateString('en-us', {\n        weekday: \"long\",\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\"\n      }),\n      // Validation Field States\n      emailValid: false,\n      ratingValid: false,\n      // Error Notification Verbiage\n      formErrors: {\n        email: null,\n        rating: null\n      },\n      // State props\n      published: false,\n      submitted: false\n    };\n  }\n  /** Validates  Form after checking fields */\n\n\n  /**\r\n   * \r\n   * @returns Submition Success State or Edit/Create Input Form\r\n   */\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"submit-form\",\n      children: [this.state.submitted === true ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: this.renderSuccesState()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 39\n      }, this) : /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [\" \", this.renderEditCreateForm()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 101\n      }, this), this.renderFormErrors()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 4\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/astir/Projects/for_matt_demo/boosterthon-ui/src/components/add-fundraiser.component.js"],"names":["React","Component","FundraiserDataService","AddFundraiser","constructor","props","validateForm","console","log","validateField","state","revieweremail","fieldName","value","newFieldValidationErrors","formErrors","emailValid","match","email","setState","doneValidating","onInputFieldUpdate","e","target","name","updateStateProp","saveFundraiser","alert","data","title","description","fundlabel","rating","review","reviewername","reviewdate","create","then","response","id","published","submitted","catch","newFundraiser","Date","toLocaleDateString","weekday","year","month","day","renderSuccesState","renderEditCreateForm","renderFormErrors","formErrorKeys","Object","keys","hasNoErrors","values","every","x","color","filter","errorKey","map","index","ratingValid","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport FundraiserDataService from \"../services/fundraiser.service\";\r\n\r\nexport default class AddFundraiser extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t/** set initial state */\r\n\t\tthis.state = {\r\n\t\t\t\r\n\t\t\tid: null,\r\n\t\t\ttitle: \"\",\r\n\t\t\tdescription: \"\",\r\n\r\n\t\t\t\tfundlabel : \"\",\r\n\t\t\t\trating : \"\",\r\n\t\t\t\treview : \"\",\r\n\t\t\t\treviewername: \"\",\r\n\t\t\t\trevieweremail: \"\",\r\n\t\t\t\treviewdate:  new Date().toLocaleDateString('en-us', { weekday:\"long\", year:\"numeric\", month:\"short\", day:\"numeric\"}) ,\r\n\r\n\t\t\t// Validation Field States\r\n\t\t\temailValid : false,\r\n\t\t\tratingValid : false,\r\n\r\n\t\t\t// Error Notification Verbiage\r\n\t\t\tformErrors : {\r\n\t\t\t\temail : null,\r\n\t\t\t\trating : null\r\n\t\t\t},\r\n\r\n\r\n\t\t\t\r\n\t\t\t// State props\r\n\t\t\tpublished: false,\r\n\t\t\tsubmitted: false\r\n\t\t};\r\n\t}\r\n\r\n\t/** Validates  Form after checking fields */\r\n\tvalidateForm = () => {\r\n\t\tconsole.log(\"\\n ####VALIDATING FORM\");\r\n\t\t// Validate all required fields\r\n\t\tthis.validateField('revieweremail', this.state.revieweremail);\r\n\t}\r\n\r\n\t/** Validate Form */\r\n\tvalidateField = (fieldName, value) => {\r\n\t\tconsole.log('-->Validating Input:'+fieldName);\r\n\t\t// Current Form Error Notification Verbiage\r\n\t\tlet newFieldValidationErrors = this.state.formErrors;\r\n\r\n\t\t// current isValid Bools\r\n\t\tlet emailValid = this.state.emailValid;\r\n\t\r\n\t\tswitch(fieldName) {\r\n\t\t\tcase 'revieweremail':\r\n\t\t\t\temailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n\t\t\t\tnewFieldValidationErrors.email = emailValid ? '' : ' is invalid';\r\n\t\t\t\tbreak;\r\n\t\t\t// case 'password':\r\n\t\t\t// \tpasswordValid = value.length >= 6;\r\n\t\t\t// \tfieldValidationErrors.password = passwordValid ? '': ' is too short';\r\n\t\t\t// \tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\t// Update Existing Validation Error Notification & isValid State\r\n\t\tthis.setState({formErrors: newFieldValidationErrors,\r\n\t\t\temailValid: emailValid,\r\n\t\t\t// passwordValid: passwordValid\r\n\t\t}, this.doneValidating());\r\n\t}\r\n\r\n\tdoneValidating = () => {\r\n\t\tconsole.log(\"  ###=> Done Validating Form\");\r\n\t\tconsole.log(this.state)\r\n\t}\r\n\t\r\n\t// validateEmail = () => {\r\n\t// \tconst currentEmail = this.state.revieweremail;\r\n\t// \tlet newFormErrors = this.state.formErrors;\r\n\t// \tlet emailValid = this.state.emailValid;\r\n\t// \temailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n\t// \tnewFormErrors[email]\r\n\r\n\t// \tthis.setState({formErrors: {...currentFormErrors, {\"email\":\" is invalid\"});\r\n\t// \tthis.state.email = emailValid ? '' : ' is invalid';\r\n\r\n\t// }\r\n\r\n\r\n\t\r\n\t/** Handle Text input field Updates */\r\n\tonInputFieldUpdate = (e) =>  {\r\n\t\t// console.log(e.target);\r\n\t\tconsole.log(\"Updated\" + e.target.name);\r\n\t\t\r\n\t\tconst updateStateProp = {};\r\n\t\tupdateStateProp[e.target.name] = e.target.value;\r\n\t\tthis.setState(updateStateProp);\r\n\t}\r\n\r\n\r\n\t/** Validate then Save if good, update errors state if bad */\r\n\tsaveFundraiser = () => {\r\n\t\talert('validating');\r\n\t\tvar data = {\r\n\t\t\ttitle: this.state.title,\r\n\t\t\tdescription: this.state.description,\r\n\t\t\tfundlabel : this.state.fundlabel,\r\n\t\t\trating : this.state.rating,\r\n\t\t\treview : this.state.review,\r\n\t\t\treviewername: this.state.reviewername,\r\n\t\t\trevieweremail: this.state.revieweremail,\r\n\t\t\treviewdate:  this.state.reviewdate,\r\n\t\t};\r\n\r\n\t\tFundraiserDataService.create(data)\r\n\t\t\t.then(response => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tid: response.data.id,\r\n\t\t\t\t\ttitle: response.data.title,\r\n\t\t\t\t\tdescription: response.data.description,\r\n\t\t\t\t\tpublished: response.data.published,\r\n\t\t\t\t\tfundlabel : response.data.fundlabel,\r\n\t\t\t\t\trating : response.data.rating,\r\n\t\t\t\t\treview : response.data.review,\r\n\t\t\t\t\treviewername:response.data.reviewername,\r\n\t\t\t\t\trevieweremail: response.data.revieweremail,\r\n\t\t\t\t\treviewdate:  response.data.reviewdate,\r\n\t\t\t\t\t\r\n\t\t\t\t\t// set successfull update\r\n\t\t\t\t\tsubmitted: true\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(response.data);\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Set form state for new entry\r\n\t */\r\n\tnewFundraiser = () => {\r\n\t\tthis.setState({\r\n\t\t\tid: null,\r\n\t\t\ttitle: \"\",\r\n\t\t\tdescription: \"\",\r\n\t\t\tpublished: false,\r\n\r\n\t\t\tfundlabel : \"\",\r\n\t\t\trating : \"\",\r\n\t\t\treview : \"\",\r\n\t\t\treviewername: \"\",\r\n\t\t\trevieweremail: \"\",\r\n\t\t\treviewdate:  new Date().toLocaleDateString('en-us', { weekday:\"long\", year:\"numeric\", month:\"short\", day:\"numeric\"}) ,\r\n\r\n\t\t\tsubmitted: false\r\n\t\t});\r\n\t}\r\n\r\n\trenderSuccesState = () => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h4>You submitted successfully!</h4>\r\n\t\t\t\t\r\n\t\t\t\t{/** Create another ADD button */}\r\n\t\t\t\t<button className=\"btn btn-success\" onClick={this.newFundraiser}>\r\n\t\t\t\t\tAdd\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\trenderEditCreateForm = () => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{/** FUNDRAISER LABEL INPUT */}\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"fundlabel\">Fundraiser Label</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tid=\"fundlabel\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={this.state.fundlabel}\r\n\t\t\t\t\t\tonChange={this.onInputFieldUpdate}\r\n\t\t\t\t\t\tname=\"fundlabel\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/** RATING INPUT */}\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"rating\">Rating (1-5)</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tid=\"rating\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={this.state.rating}\r\n\t\t\t\t\t\tonChange={this.onInputFieldUpdate}\r\n\t\t\t\t\t\tname=\"rating\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/** REVIEW INPUT */}\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"review\">Review</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tid=\"review\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={this.state.review}\r\n\t\t\t\t\t\tonChange={this.onInputFieldUpdate}\r\n\t\t\t\t\t\tname=\"review\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/** REVIEWER NAME INPUT */}\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"reviewername\">Reviewer Name</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tid=\"reviewername\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={this.state.reviewername}\r\n\t\t\t\t\t\tonChange={this.onInputFieldUpdate}\r\n\t\t\t\t\t\tname=\"reviewername\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/** REVIEWER EMAIL INPUT */}\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"revieweremail\">Reviewer Email</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tid=\"revieweremail\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={this.state.revieweremail}\r\n\t\t\t\t\t\tonChange={this.onInputFieldUpdate}\r\n\t\t\t\t\t\tname=\"revieweremail\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/** Validate form & Submit */}\r\n\t\t\t\t<button onClick={this.validateForm} className=\"btn btn-success\">\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @returns Form Field Errors if Exist\r\n\t */\r\n\trenderFormErrors = () => {\r\n\t\tconst formErrorKeys = Object.keys(this.state.formErrors);\r\n\t\tlet hasNoErrors = Object.values(this.state.formErrors).every(x => x === null || x === '');\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{hasNoErrors ? <React.Fragment></React.Fragment> : \r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<h2>Form Errors: </h2>\r\n\t\t\t\t\t\t\t<ul className=\"errorList\" style={{color: \"red\"}}>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tformErrorKeys.filter((errorKey)=>this.state.formErrors[errorKey] != null).map((errorKey, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<li\t\r\n\t\t\t\t\t\t\t\t\t\t\tkey={\"err_\"+errorKey}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{errorKey + \": \"+this.state.formErrors[errorKey]}\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t * @returns Submition Success State or Edit/Create Input Form\r\n\t */\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"submit-form\">\r\n\t\t\t\t\t{this.state.submitted === true ? <React.Fragment>{this.renderSuccesState()}</React.Fragment> : <React.Fragment> {this.renderEditCreateForm()}</React.Fragment> }\r\n\t\t\t\t\t{this.renderFormErrors()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}